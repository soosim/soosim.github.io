# 三方登录绑定账号
>创建人员：**孙单单**
>创建时间：2017-03-30

[TOC]

## 接口简介
绑定账号

## 接口详情

### 请求地址
测试：http://shopping.api.test.soolife.cn/v2/account/third/binding/{bind}

正式：http://shoppingapi.soolife.cn/v2/account/third/binding/{bind}

### 请求类型
post(bind：1 有账号，直接绑定    2 无账号，先注册后绑定)

### 请求参数 (Form Data)
| 参数名      |   类型   |  必填  | 描述                                       | 默认值  | 参考值  |
| -------- | :----: | :--: | ---------------------------------------- | ---- | ---- |
| ip       | string |  否   | IP地址                                     | -    | -    |
| openid   | string |  是   | 用户ID                                     | -    | -    |
| unionid  | string |  是   | 第三方给的一个唯一的ID                             | -    | -    |
| type     | string |  否   | 登陆认证方式(可追加) 1-平台(手机) 2-微信 3-QQ 4-微博 5-支付宝 6-平台(账号) 7-平台(邮件) | -    | -    |
| username | string |  否   | 用户名                                      | -    | -    |
| mobile   | string |  否   | 手机号                                      | -    | -    |
| password | string |  否   | 密码                                       | -    | -    |
| vcode    | string |  否   | 验证码                                      | -    | -    |
| token    | string |  是   | 第三方token，因为微信token位数过长，所以要md5加密一下        | -    | -    |

### 返回正确JSON示例
```javascript
状态码：200
{
  "code": 104,
  "login_info": {
    "member_id": "3001067",
    "login_id": "13127555558",
    "nickName": "131****5558",
    "token": "8160853d39ef791c3c7af0ac7837e89f",
    "type": "1",
    "visit": "0",
    "last_time": 1494906940,
    "ip": "127.0.0.1"
  },
  "entry": {
    "msg": "登录成功",
    "key": ""
  }
}
```
### 其它状态码错误
| 状态码  | 错误原因                  |
| :--- | :-------------------- |
| 100  | 参数不合法，请检查后重试！         |
| 102  | 绑定类型无效，自动登录出错，请尝试手动登录 |
| 103  | 手机验证码不正确              |
| 105  | 用户名或密码错误              |
| 108  | 已经绑定,请直接登录!           |

### 备注说明


## 修改日志
|  版本  |     日期     | 说明   | 修订人  |
| :--: | :--------: | :--- | :--- |
| 0.1  | 2017-03-30 | 初版   | 孙单单  |
