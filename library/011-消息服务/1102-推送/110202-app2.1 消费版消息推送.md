# 消费版消息推送
>创建人员：**时良荣**
>创建时间：2017-05-16

[TOC]


## 接口简介
消费版消息推送

## 接口详情

### 请求地址
http://messageapi.test.soolife.net/push/send

正式： http://messageapi.soolife.cn/push/send

### 请求类型
POST

### 请求参数 (RAW)
```javascript
{
    "alert":"你有新的消息哦",// 消息标题
    "template_id":"1006",  // 模版编号
    "member_id":"1021288", // 会员ID
    "content":json,        // 消息内容
    "mes_type":"1",        // 消息类型 1：客服消息,2：系统消息,3：活动消息,4：订单消息,5：资产消息,6：售后消息
    "is_all":"0",          // 推送群体 1-全平台 0-固定会员
}
```

#### 追加参数 何时使用何种模版 并 追加何种参数
```javascript
  {
    "Template_ID": "1000",        // 模版编号
    "T_ExtraParams": url,         // 待追加参数
    "T_Remark": "普通活动——推送"   // 模版类型
  },
  {
    "Template_ID": "1019",
    "T_ExtraParams": "",
    "T_Remark": "后台推送消息" // 后台手动推送 ,星卖家商品下架
  },
  {
    "Template_ID": "1017",
    "T_ExtraParams": id,
    "T_Remark": "星粉秀详情" // 星粉秀消息模版
  },
  {
    "Template_ID": "1012",
    "T_ExtraParams": id,
    "T_Remark": "用户-订单详情" // 订单消息模版
  },
  {
    "Template_ID": "1010",
    "T_ExtraParams": "",
    "T_Remark": "我的收入" // 资产消息
  },
  {
    "Template_ID": "1011",
    "T_ExtraParams": "",
    "T_Remark": "优惠券消息" // 资产中优惠券消息
  },
  {
    "Template_ID": "1008",
    "T_ExtraParams": id,
    "T_Remark": "售后进度详情" // 售后消息
  }
```
#### content字段示例
##### 系统消息
```javascript
{
  "title":"",   //消息标题
  "details":'' // 消息详细
}
```
##### 活动消息
```javascript
{
  待定
}
```
##### 订单消息
```javascript
{
  "status":"", //订单状态
  "logo":'',   //商品图片
  "name":'',   //商品名称
  "order_no":'',//订单编号
  "logistics":'' //最新物流信息
}
```
##### 资产消息
```javascript
{
  "title":"", //消息标题
  "details":'' // 消息详细
}
```
##### 售后消息
```javascript
{
  "status":"", //售后单状态
  "logo":'',   //商品图片
  "name":'',   //商品名称
  "apply_no":'',//申请单编号
}
```
### 请求参数示例
#### 如推送 [订单消息] 使用 [1012] 的模版
```javascript
{
    "alert":"您购买的XXX商品已发货",   // 消息标题
    "template_id":"1012",  // 模版编号
    "member_id":"1021288", // 会员ID
    "content":{"status":"huizhuanqian","logo":'ASD45A4SD446AD21A3D4F654F65',"name":'购物大促销',"order_no":'12345674545123165',"logistics":'到上海'},
    "mes_type":"4",        // 消息类型 1：客服消息,2：系统消息,3：活动消息,4：订单消息,5：资产消息,6：售后消息
    "is_all":"0",          // 推送群体 1-全平台 0-固定会员
    "id":'1234567452123165'//追加的参数
}
```

### 返回正确JSON示例
```javascript
{
  "success": true,
  "alert": "你有新的消息哦",
  "extras": {
    "object": "goodDetail",
    "id": "50015"
  }
}
```
### 返回错误JSON示例
```javascript
{
  "success": false,
  "msg": "错误信息"
}
```

### 其它状态码错误
| 状态码 | 错误原因     |
| :------------- | :------------- |
|无|-|

### 备注说明


## 修改日志
| 版本   | 日期         | 说明   | 修订人  |
| :----: | :----------: | :---- | :---- |
| 1.0  | 2017-05-16 | 初版   | 时良荣  |
