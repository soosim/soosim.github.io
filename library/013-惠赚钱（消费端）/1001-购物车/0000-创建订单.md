# 确认订单
>创建人员：**谢金龙**

>创建时间：2017-04-24

[TOC]


## 接口简介
惠赚钱星店铺创建，包括：

    1.立即购买
    2.购物车确认订单

## 接口详情

### 请求地址
    测试： http://mo.api.test.soolife.net/v1/order/create
    正式：http://mo.api.soolife.cn/v1/order/create

### 请求类型
POST

### 请求参数 (Form Data)
| 参数名 | 类型 | 必填 | 描述 | 默认值 | 参考值 |备注|
| --- | :---: | :---: | --- | --- | --- | --- |
|address_id|int|是|用户选择的收货地址ID|-|2201|-|
|idcard|string|否|用户身份证号码|-|4203031991xxxxxxxx| 有海外商品时必填 |
|wallet_cent|float|否|要使用的钱包金额|-|0| 当前未使用 |
|instant_buy|bool|是|是否立即购买下单|true|true| 不填默认立即购买，购物车确认订单填false |
|instant_item_type|int|否|立即购买商品类型|1|1| 目前仅支持普通商品 |
|instant_item_id|int|否|立即购买商品的id(商品的skuid, 套装的promoid)|-|10062| 目前仅支持普通商品 |
|instant_item_qty|int|否|立即购买商品数量|1|1| 立即购买数量 |
|suppliers|object|否|拆单发发票、备注信息|-|[{...},{...}]| 见参数表（supplier） |
|referrer|int|是|惠赚钱购买来源ID|-|1015999| 店主ID |

##### supplier 参数：
| 参数名 | 类型 | 必填 | 描述 | 默认值 | 参考值 |备注|
| --- | :---: | :---: | --- | --- | --- | --- |
| supplier_type | int | 是 | 发货类型 | - | 2 | 1.自提 2.平台仓库发货 3.店铺自己发货 |
| supplier_id | int | 是 | 提货参数 | - | 3101 | id/仓库 Id/店铺id |
| invoice_title | string | 否 | 发票抬头 | - | 阿里集团 | - |
| invoice_content | string | 否 | 发票内容 | - | 办公采购 | - |
| remark | string | 否 | 备注 | - | 请快发货 | - |

##### 如：
```javascript
{
	"instant_buy":false,
	"instant_item_id":"10062",
	"instant_item_qty":"10",
	"address_id":"2236",
	"wallet_cent":"1000", // 暂不使用
	"idcard":"1234567623",
	"password":"227fc45b4b2b5928538890135fe0aea7", // 暂不使用
	"suppliers":[
		{
			"supplier_type":"3",
			"supplier_id":"220",
			"invoice_title":"hjsafhfj",
			"invoice_content":"asfdjkasg",
			"remark":"asjfklsajgkasgj"
		},
		{
			"supplier_type":"2",
			"supplier_id":"1450",
			"invoice_title":"下哦i阿胶的",
			"invoice_content":"搜房独家卡死发送价格",
			"remark":"发好的"
		}
	],
	"referrer":"1015999"
}
```

### 返回正确JSON示例
```javascript
{
  "memberId": "2000105",
  "isPaid": false,
  "mainOrderNo": "6010992017042510051",
  "subOrders": [
    {
      "orderId": "57456",
      "orderNo": "6010992017042510052"
    },
    {
      "orderId": "57457",
      "orderNo": "6010992017042510053"
    }
   ],
	"needPay": "121.00"
}
```
### 返回错误JSON示例
```javascript
{
  "success": false,
  "msg": "下单失败:商品库存不足",
  "id": 100001
}
```

### 其它状态码错误
| 状态码 | 错误原因     |
| :------------- | :------------- |
|无|-|

### 备注说明


## 修改日志
| 版本   | 日期         | 说明   | 修订人  |
| :----: | :----------: | :---- | :---- |
| 0.1  | 2017-04-24 | 初版   | 谢金龙  |
